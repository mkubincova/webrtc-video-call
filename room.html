<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>Video Call Room - WebRTC Video Calling App</title>
    <meta
      name="description"
      content="Active video call room with peer-to-peer WebRTC technology. Chat and video call with other participants in real-time."
    />
    <meta name="author" content="mkubincova" />
    <meta name="robots" content="noindex, nofollow" />

    <!-- Security -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />

    <!-- Icons & Styling -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="stylesheet" href="./src/style.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <div id="app" class="app">
      <!-- Sidebar -->
      <div id="sidebar" class="sidebar">
        <div class="sidebar-content">
          <button
            id="sidebarToggle"
            class="sidebar-toggle-btn"
            title="Toggle sidebar"
          >
            <i data-lucide="bot" class="toggle-icon"></i>
          </button>
          <div id="systemMessages" class="system-messages"></div>
        </div>
      </div>
      <!-- /Sidebar -->

      <div id="content" class="main-content">
        <!-- Video -->
        <div class="video-section">
          <button
            id="leaveRoom"
            class="button button-sm button-danger leave-button"
          >
            <i data-lucide="arrow-left"></i> Exit room
          </button>
          <div id="videos" class="videos-container">
            <div class="status-info">
              <span id="roomInfo">Not in a room</span>
              <span class="badge"
                ><i data-lucide="users" width="15" height="15"></i
                ><span id="userCount">0 users</span></span
              >
            </div>
            <div class="local-video-container">
              <div id="localCameraOff" class="camera-off-overlay camera-hidden">
                <i data-lucide="video-off" class="camera-off-icon"></i>
              </div>
              <video
                id="localVideo"
                autoplay
                muted
                playsinline
                class="local-video"
              ></video>
            </div>
            <div class="remote-video-container">
              <div
                id="remoteCameraOff"
                class="camera-off-overlay camera-hidden"
              >
                <i data-lucide="video-off" class="camera-off-icon"></i>
              </div>
              <video
                id="remoteVideo"
                autoplay
                playsinline
                class="remote-video"
              ></video>
            </div>
          </div>
          <div class="video-controls">
            <button
              id="toggleMute"
              class="button-icon"
              title="Toggle microphone"
            >
              <i data-lucide="mic" class="icon"></i>
              <span class="text">Unmuted</span>
            </button>
            <button id="startCall" class="button-icon button-success" disabled>
              <i data-lucide="phone-call" class="icon"></i>
              <span class="text">Start Call</span>
            </button>
            <button id="endCall" class="button-icon button-danger" hidden>
              <i data-lucide="phone-missed" class="icon"></i>
              <span class="text">End Call</span>
            </button>
            <button id="toggleCamera" class="button-icon" title="Toggle camera">
              <i data-lucide="video" class="icon"></i>
              <span class="text">Camera On</span>
            </button>
          </div>
        </div>
        <!-- /Video -->

        <!-- Chat -->
        <div class="chat-section">
          <div id="chat" class="chat-messages"></div>
          <form id="messageForm" class="message-form">
            <input id="message" type="text" placeholder="Type a message..." />
            <button id="sendMessage" type="submit" class="button" disabled>
              Send
            </button>
          </form>
        </div>
        <!-- /Chat -->
      </div>
    </div>
    <script type="module" src="./src/room.ts"></script>
  </body>
</html>
